<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="description" content="CyberAware Columbus High School Cyber Security Awareness Training program ">
<meta name=”author” content= ”Ayla Artler”>
<title>CyberAware</title>
 <link rel="stylesheet" href="CA.css">
</head>
<body>
	<div class="header">
		<h1>CyberAware</h1>
		<p> Columbus High School Cybersecurity Awareness Training</p>
	</div>

 <div class="navbar">
  <a href="index.html">Home</a>
  <a href="#news">News</a>
  <div class="dropdown">
    <button class="dropbtn">Training
      <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
      <a href="Phishing Training.html">Phishing Attacks</a>
      <a href="Password Training.html">Password Security</a>
      <a href="Network Security.html">Network Security</a>
    </div>
  </div>
  <div class="dropdown">
    <button class="dropbtn">Check your Knowledge
      <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
      <a href="Jepordy.html">Jepordy</a>
      <a href="Phishing Quiz.html">Phishing Quiz</a>
      <a href="Password Quiz.html">Password Security Quiz</a>
      <a href="Network Quiz.html">Network Security Quiz</a>
    </div>
  </div>
</div> 
<main>
	<div id="content">
		<h1>Phishing Quiz</h1>
			<div id="quiz"></div>
			<button id="submit">Submit Quiz</button>
			<div id="results"></div>
			<script>
			(function(){
  function buildQuiz(){
    const output = [];

    // foreach question
    myQuestions.forEach(
      (currentQuestion, questionNumber) => {

        // variable possible answers
        const answers = [];

        // foreach possible answer
        for(letter in currentQuestion.answers){

          // 
          answers.push(
            `<label>
              <input type="radio" name="question${questionNumber}" value="${letter}">
              ${letter} :
              ${currentQuestion.answers[letter]}
            </label>`
          );
        }

        // add this question and its answers to the output
        output.push(
          `<div class="question"> ${currentQuestion.question} </div>
          <div class="answers"> ${answers.join('')} </div>`
        );
      }
    );

    // finally combine our output list into one string of HTML and put it on the page
    quizContainer.innerHTML = output.join('');
  }

  function showResults(){

    // gather answer containers from our quiz
    const answerContainers = quizContainer.querySelectorAll('.answers');

    // keep track of user's answers
    let numCorrect = 0;

    // for each question...
    myQuestions.forEach( (currentQuestion, questionNumber) => {

      // find selected answer
      const answerContainer = answerContainers[questionNumber];
      const selector = `input[name=question${questionNumber}]:checked`;
      const userAnswer = (answerContainer.querySelector(selector) || {}).value;

      // if answer is correct
      if(userAnswer === currentQuestion.correctAnswer){
        // add to the number of correct answers
        numCorrect++;

        // color the answers green
        answerContainers[questionNumber].style.color = 'lightgreen';
      }
      // if answer is wrong or blank
      else{
        // color the answers red
        answerContainers[questionNumber].style.color = 'red';
      }
    });

    // show number of correct answers out of total
    resultsContainer.innerHTML = `${numCorrect} out of ${myQuestions.length}`;
  }

  const quizContainer = document.getElementById('quiz');
  const resultsContainer = document.getElementById('results');
  const submitButton = document.getElementById('submit');
  const myQuestions = [
    {
      question: "Who invented JavaScript?",
      answers: {
        a: "Douglas Crockford",
        b: "Sheryl Sandberg",
        c: "Brendan Eich"
      },
      correctAnswer: "c"
    },
    {
      question: "Which one of these is a JavaScript package manager?",
      answers: {
        a: "Node.js",
        b: "TypeScript",
        c: "npm"
      },
      correctAnswer: "c"
    },
    {
      question: "Which tool can you use to ensure code quality?",
      answers: {
        a: "Angular",
        b: "jQuery",
        c: "RequireJS",
        d: "ESLint"
      },
      correctAnswer: "d"
    }
  ];

  // Kick things off
  buildQuiz();

  // Event listeners
  submitButton.addEventListener('click', showResults);
})();
</script>
	</div>

</main>

<footer>
	Copyright 2023 &copy;  Columbus High School Cybersecurity Awareness Training
	
</footer>	
</body>	
</html>
