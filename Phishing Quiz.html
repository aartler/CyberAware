<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="description" content="CyberAware Columbus High School Cyber Security Awareness Training program ">
<meta name=”author” content= ”Ayla Artler”>
<title>CyberAware</title>
 <link rel="stylesheet" href="CA.css">
</head>
<body>
	<div class="header">
		<h1>CyberAware</h1>
		<p> Columbus High School Cybersecurity Awareness Training</p>
	</div>

 <div class="navbar">
  <a href="index.html">Home</a>
  <a href="#news">News</a>
  <div class="dropdown">
    <button class="dropbtn">Training
      <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
      <a href="Phishing Training.html">Phishing Attacks</a>
      <a href="Password Training.html">Password Security</a>
      <a href="Network Security.html">Network Security</a>
    </div>
  </div>
  <div class="dropdown">
    <button class="dropbtn">Check your Knowledge
      <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
      <a href="Jepordy.html">Jepordy</a>
      <a href="Phishing Quiz.html">Phishing Quiz</a>
      <a href="Password Quiz.html">Password Security Quiz</a>
      <a href="Network Quiz.html">Network Security Quiz</a>
    </div>
  </div>
</div> 
<main>
	<div id="content">
		<h1>Phishing Quiz</h1>
			<div id="quiz"></div>
			<button id="submit">Submit Quiz</button>
			<div id="results"></div>
			<script>
			(function(){
  function buildQuiz(){
    const output = [];

    // foreach question
    myQuestions.forEach(
      (currentQuestion, questionNumber) => {

        // variable possible answers
        const answers = [];

        // foreach possible answer
        for(letter in currentQuestion.answers){

          // 
          answers.push(
            `<label>
              <input type="radio" name="question${questionNumber}" value="${letter}">
              ${letter} :
              ${currentQuestion.answers[letter]}
            </label>`
          );
        }

        // add question and answers to the output
        output.push(
          `<div class="question"> ${currentQuestion.question} </div>
          <div class="answers"> ${answers.join('')} </div>`
        );
      }
    );

    // list questions on the page in html
    quizContainer.innerHTML = output.join('');
  }

  function showResults(){

    // get answeers from container
    const answerContainers = quizContainer.querySelectorAll('.answers');

    // track correct answers
    let ansCorrect = 0;
	  
    myQuestions.forEach( (currentQuestion, questionNumber) => {

      // find selected answer
      const answerContainer = answerContainers[questionNumber];
      const selector = `input[name=question${questionNumber}]:checked`;
      const userAnswer = (answerContainer.querySelector(selector) || {}).value;

      // if correct
      if(userAnswer === currentQuestion.correctAnswer);
        ansCorrect++;

        // correct answer green
        answerContainers[questionNumber].style.color = 'lightgreen';
      }
      else{
        // incorrect answer red
        answerContainers[questionNumber].style.color = 'red';
      }
    });

    // list total number of correct answers
    resultsContainer.innerHTML = `${ansCorrect} out of ${myQuestions.length}`;
  }

  const quizContainer = document.getElementById('quiz');
  const resultsContainer = document.getElementById('results');
  const submitButton = document.getElementById('submit');
  const myQuestions = [
  {
    question: "What should you do as an employee if you suspect a phishing attack?",
	  answers: {
    		a: "Report it so the Cybersecurity team can investigate",
    		b: "Ignore it",
    		c: "Open the email and see whether it looks legitimate",
    		d: "Show your coworkers to see what they think"},
    correctAnswer: "a"
  },
  {
    question: "What can happen if you click on a phishing email link or attachment?",
	  answers: {
    		a: "The email sender could gain access to company systems",
    		b: "The email sender could steal your personal information or company information",
    		c: "The email sender could distribute malware into the company network",
    		d: "All of the above"},
    correctAnswer: "d"
  },
  {
    question: "How can a person executing a phishing attack steal someone's identity?",
	  answers: {
   		a: "They pretend they are someone else when emailing phishing messages, so that's like stealing an identity",
    		b: "They ask for personal information on a webpage or pop-up window linked from the phishing email, and they use the information entered to make illegal purchases or commit fraud",
    		c: "They send a request for the recipient's bank information",
    		d: "Gaining information from profile"},
    correctAnswer: "b"
  }
];

  buildQuiz();

  submitButton.addEventListener('click', showResults);
})();
</script>
	</div>

</main>

<footer>
	Copyright 2023 &copy;  Columbus High School Cybersecurity Awareness Training
	
</footer>	
</body>	
</html>
